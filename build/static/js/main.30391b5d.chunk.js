(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t){e.exports=function(e){var t={method:"GET",url:"",data:"",async:!0,cache:!0,contentType:"application/x-www-form-urlencoded",headers:{"Content-type":"application/x-www-form-urlencoded"},success:function(){},error:function(){}};for(var a in e)t[a]=e[a];if("object"===typeof t.data){var n="";for(var a in t.data)n+=a+"="+t.data[a]+"&";t.data=n.substring(0,n.length-1)}t.method=t.method.toUpperCase(),t.cache=t.cache?"":"&"+(new Date).getTime(),"GET"===t.method&&(t.data||t.cache)&&(t.url+="?"+t.data+t.cache);var s=new XMLHttpRequest;s.open(t.method,t.url,t.async),"GET"===t.method?(Object.keys(e.headers).forEach(function(t){s.setRequestHeader(t,e.headers[t])}),s.send(null)):(Object.keys(e.headers).forEach(function(t){s.setRequestHeader(t,e.headers[t])}),s.send(t.data)),s.onreadystatechange=function(){4===s.readyState&&(200===s.status?t.success.call(s,s.responseText):t.error())}}},16:function(e,t,a){e.exports=a(31)},22:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(14),o=a.n(c);a(22),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(33),r=a(35),l=a(34),h=a(6),u=a(7),m=a(9),d=a(8),p=a(10),b=(a(24),a(11)),y=a.n(b),v=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={data:""},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;y.a.bind(this)({url:"/BranchesTrees.json",method:"GET",async:!0,headers:{"Content-type":"application/json"},success:function(t){console.log(JSON.parse(t)),e.setState({data:JSON.parse(t)})},error:function(e){console.log(e)}})}},{key:"render",value:function(){return console.log(this.state.data[0]),s.a.createElement("div",{className:"home"},s.a.createElement(g,{name:"\u533a\u53bf\u7cfb\u7edf",class:"btn one",data:this.state.data[0]}),s.a.createElement(g,{name:"\u9ad8\u6821\u7cfb\u7edf",class:"btn two",data:this.state.data[1]}),s.a.createElement(g,{name:"\u57ce\u5e02\u7cfb\u7edf",class:"btn three",data:this.state.data[2]}))}}]),t}(n.Component),g=function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.class,onClick:function(){localStorage.setItem("system",e.props.name),localStorage.setItem("selectData",JSON.stringify(e.props.data)),window.location.hash="choose",console.log(e.props.data)}},this.props.name)}}]),t}(n.Component),f=v,j=a(2),O=(a(26),!0),S={category_name:localStorage.getItem("system"),mechanism_name:"",branches_name:"",branch_node_name:"",name:"",age:"",job:""},E=!1,w=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={data:e.props,branchesKey:0,coverStyle:{display:"none"}},e.systemName=localStorage.getItem("system"),e.systemName||(e.systemName="\u533a\u53bf\u7cfb\u7edf"),e.setCoverStyle=e.setCoverStyle.bind(Object(j.a)(Object(j.a)(e))),e.setBranchesKey=e.setBranchesKey.bind(Object(j.a)(Object(j.a)(e))),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"setCoverStyle",value:function(){if(console.log(O),!O)return!1;if("none"===this.state.coverStyle.display){if(""===S.mechanism_name||""===S.branches_name)return alert("\u8bf7\u9009\u62e9\u5b8c\u6bd5\u4fe1\u606f"),!1;this.setState({coverStyle:{display:"block"}}),console.log(S)}else this.setState({coverStyle:{display:"none"}})}},{key:"setBranchesKey",value:function(e){E=!0,S.branches_name="",this.setState({branchesKey:e},function(){console.log("key:",e)})}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("selectData"));if(void 0==e)return s.a.createElement("div",{id:"choose"},s.a.createElement("div",{className:"systemName"},this.systemName),s.a.createElement("h3",null,"\u7f51\u7edc\u5ef6\u8fdf\uff0c\u6570\u636e\u52a0\u8f7d\u9519\u8bef\uff0c\u8bf7\u8fd4\u56de\u4e0a\u4e00\u9875\u91cd\u8bd5"));var t=e.mechanisms.map(function(e){return e.mechanism_name}),a=e.mechanisms[this.state.branchesKey].branches.map(function(e){return e.branches_name});return s.a.createElement("div",{id:"choose"},s.a.createElement("div",{className:"systemName"},this.systemName),s.a.createElement(k,{classname:"dropWrapper firstBox",data:t,initialization:"--\u76f4\u5c5e\u56e2\u7ec4\u7ec7--",setBranchesKey:this.setBranchesKey}),s.a.createElement(k,{classname:"dropWrapper secondBox",data:a,initialization:"\u8bf7\u9009\u62e9"}),s.a.createElement(T,{setCoverStyle:this.setCoverStyle}),s.a.createElement(z,{style:this.state.coverStyle,setCoverStyle:this.setCoverStyle}))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={showList:!1,height:"7vw",selected:a.props.initialization,initialization:a.props.initialization,moveFlag:!1,zIndex:1,branchesKey:null},a.branchesKey=[],a.touchStartTime=null,a.show=a.show.bind(Object(j.a)(Object(j.a)(a))),a.touchStart=a.touchStart.bind(Object(j.a)(Object(j.a)(a))),a.setSelected=a.setSelected.bind(Object(j.a)(Object(j.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"touchStart",value:function(){this.touchStartTime=Date.parse(new Date),this.setState({zIndex:9999})}},{key:"show",value:function(){if(Date.parse(new Date)-this.touchStartTime>40)return!1;if(this.state.showList||this.state.moveFlag)this.state.showList&&!this.state.moveFlag&&(this.setState({height:"7vw",showList:!1,zIndex:1}),"--\u76f4\u5c5e\u56e2\u7ec4\u7ec7--"===this.state.initialization&&this.setState({branchesKey:S.mechanism_name}),setTimeout(function(){O=!0},600));else{O=!1;var e=this.props.data.length;e<=3?(this.setState({height:7*e+"vw",showList:!0}),O=!1):(this.setState({height:"21vw",showList:!0}),O=!1)}}},{key:"setSelected",value:function(e){this.setState({selected:e})}},{key:"render",value:function(){var e=null;return this.state.showList?(console.log(this.props.data),this.props.data.length&&1===this.props.data.length?(e=this.props.data[0],"\u8bf7\u9009\u62e9"===this.state.initialization?S.branches_name=e:S.mechanism_name=e,O=!0,console.log("haha")):(console.log("es"),e=s.a.createElement(N,{classname:"selectInput",childSelect:this.props.data,setSelected:this.setSelected,setBranchesKey:this.props.setBranchesKey}))):this.state.selected===this.state.initialization?e=this.state.initialization:(e=this.state.selected,"\u8bf7\u9009\u62e9"===this.state.initialization?E?(e=this.state.initialization,E=!E):S.branches_name=e:S.mechanism_name=e),s.a.createElement("div",{className:this.props.classname,style:{height:this.state.height,zIndex:this.state.zIndex},onTouchEnd:this.show,onTouchStart:this.touchStart},e)}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).childSelect=a.props.childSelect,a.state={selected:a.childSelect[0],backgroundColor:"rgb(248, 248, 229)"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.childSelect.map(function(t,a){return s.a.createElement(C,{value:t,myKey:a,key:a,setSelected:e.props.setSelected,setBranchesKey:e.props.setBranchesKey})});return s.a.createElement("div",{className:this.props.classname},t)}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={backgroundColor:"rgb(248, 248, 229)"},a.touchStart=a.touchStart.bind(Object(j.a)(Object(j.a)(a))),a.onTouchEnd=a.onTouchEnd.bind(Object(j.a)(Object(j.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"touchStart",value:function(e){this.setState({backgroundColor:"lightblue"})}},{key:"onTouchEnd",value:function(e){this.setState({backgroundColor:"rgb(248, 248, 229)"}),this.props.setSelected(this.props.value),this.props.setBranchesKey&&this.props.setBranchesKey(this.props.myKey)}},{key:"render",value:function(){return s.a.createElement("div",{className:"valueBox",style:{background:this.state.backgroundColor},onTouchStart:this.touchStart,onTouchEnd:this.onTouchEnd},this.props.value)}}]),t}(n.Component),T=function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"nextBtn",onClick:this.props.setCoverStyle},"\u4e0b\u4e00\u6b65")}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={name:"",age:"",job:"",tzb:""},a.getName=a.getName.bind(Object(j.a)(Object(j.a)(a))),a.getAge=a.getAge.bind(Object(j.a)(Object(j.a)(a))),a.getJob=a.getJob.bind(Object(j.a)(Object(j.a)(a))),a.getTzb=a.getTzb.bind(Object(j.a)(Object(j.a)(a))),a.submitData=a.submitData.bind(Object(j.a)(Object(j.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getName",value:function(e){this.setState({name:e.target.value}),S.name=e.target.value}},{key:"getAge",value:function(e){this.setState({age:e.target.value}),S.age=e.target.value}},{key:"getJob",value:function(e){this.setState({job:e.target.value}),S.job=e.target.value}},{key:"getTzb",value:function(e){this.setState({tzb:e.target.value}),S.branch_node_name=e.target.value}},{key:"submitData",value:function(){for(var e in S.category_name=localStorage.getItem("system"),console.log(S),S)if(0===S[e].length||0==S[e].replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return alert("\u586b\u5199\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"),!1;this.props.setCoverStyle(),y.a.call(this,{url:"/admin/youth/uploadUserInfo",method:"POST",async:!0,data:S,headers:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){console.log("upload:",S),alert("\u63d0\u4ea4\u6210\u529f"),window.location.href="http://test.shingdstar.com/admin/youth/cyol"},error:function(e){alert("\u63d0\u4ea4\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"),console.log(e)}})}},{key:"render",value:function(){return s.a.createElement("div",{className:"cover",style:this.props.style},s.a.createElement("div",{className:"bullet"},s.a.createElement("div",{className:"cancel",onTouchEnd:this.props.setCoverStyle}),s.a.createElement("div",{className:"nameWrapper"},s.a.createElement("p",null,"\u59d3\u540d\uff1a"),s.a.createElement("input",{type:"text",className:"name",value:this.state.name,onChange:this.getName})),s.a.createElement("div",{className:"nameWrapper"},s.a.createElement("p",null,"\u5e74\u9f84\uff1a"),s.a.createElement("input",{type:"text",className:"name",value:this.state.age,onChange:this.getAge})),s.a.createElement("div",{className:"nameWrapper"},s.a.createElement("p",null,"\u804c\u4e1a\uff1a"),s.a.createElement("input",{type:"text",className:"name",value:this.state.job,onChange:this.getJob})),s.a.createElement("div",{className:"nameWrapper"},s.a.createElement("p",null,"\u56e2\u652f\u90e8\uff1a"),s.a.createElement("input",{type:"text",className:"name",value:this.state.tzb,onChange:this.getTzb})),s.a.createElement("div",{className:"submit",onTouchEnd:this.submitData},"\u63d0\u4ea4")))}}]),t}(n.Component),x=w;o.a.render(s.a.createElement(i.a,{basename:""},s.a.createElement(r.a,null,s.a.createElement(l.a,{exact:!0,path:"/choose",component:x}),s.a.createElement(l.a,{path:"/",component:f}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.30391b5d.chunk.js.map